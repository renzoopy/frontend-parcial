<div class="container">
    <h2>{{ isEdit ? 'Editar Turno' : 'Agregar Turno' }}</h2>
    <form (ngSubmit)="onSubmit()" #turnoForm="ngForm">
      <div class="form-group">
        <label for="fecha">Fecha</label>
        <input type="date" id="fecha" [(ngModel)]="turno.fecha" name="fecha" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="horaInicioAgendamiento">Hora Inicio Agendamiento</label>
        <select id="horaInicioAgendamiento" [(ngModel)]="turno.horaInicioAgendamiento" name="horaInicioAgendamiento" class="form-control" required>
          <option *ngFor="let hora of horasDisponibles" [value]="hora">{{ hora }}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="horaFinAgendamiento">Hora Fin Agendamiento</label>
        <select id="horaFinAgendamiento" [(ngModel)]="turno.horaFinAgendamiento" name="horaFinAgendamiento" class="form-control" required>
          <option *ngFor="let hora of horasDisponibles" [value]="hora">{{ hora }}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="idProveedor">Proveedor</label>
        <select id="idProveedor" [(ngModel)]="turno.idProveedor" name="idProveedor" class="form-control" required>
          <option *ngFor="let proveedor of allProveedores" [value]="proveedor.id">{{ proveedor.nombre }}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="idJaula">Jaula</label>
        <select id="idJaula" [(ngModel)]="turno.idJaula" name="idJaula" class="form-control" required>
          <option *ngFor="let jaula of allJaulas" [value]="jaula.id">{{ jaula.nombre }}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="horaInicioRecepcion">Hora Inicio Recepción</label>
        <select id="horaInicioRecepcion" [(ngModel)]="turno.horaInicioRecepcion" name="horaInicioRecepcion" class="form-control" required>
          <option *ngFor="let hora of horasDisponibles" [value]="hora">{{ hora }}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="horaFinRecepcion">Hora Fin Recepción</label>
        <select id="horaFinRecepcion" [(ngModel)]="turno.horaFinRecepcion" name="horaFinRecepcion" class="form-control" required>
          <option *ngFor="let hora of horasDisponibles" [value]="hora">{{ hora }}</option>
        </select>
      </div>
      <div class="form-group">
        <h3>Detalles</h3>
        <div *ngFor="let detalle of detalles; let i = index">
          <p>Producto: {{getProductoNombre(detalle.idProducto)}}, Cantidad: {{ detalle.cantidad }}
            <button (click)="eliminarDetalle(detalle.id)" type="button" class="btn btn-danger">Eliminar</button>
          </p>
        </div>
        <!-- Agregar detalle -->
        <div class="form-group">
          <label for="producto">Producto</label>
          <select id="producto" [(ngModel)]="selectedProducto" name="producto" class="form-control">
            <option *ngFor="let producto of allProductos" [ngValue]="producto">{{ producto.nombre }}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="cantidad">Cantidad</label>
          <input type="number" id="cantidad" [(ngModel)]="cantidad" name="cantidad" class="form-control" required>
        </div>
        <button (click)="agregarDetalle(selectedProducto, cantidad)" type="button" class="btn btn-primary">
          Agregar Producto
        </button>
      </div>
      <button type="submit" class="btn btn-primary">{{ isEdit ? 'Actualizar' : 'Agregar' }}</button>
      <button (click)="cancelar()" type="button" class="btn btn-secondary">Cancelar</button>
    </form>
  </div>
  